(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{307:function(a,e,s){"use strict";s.r(e);var t=s(14),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"vm-clean-up"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vm-clean-up"}},[a._v("#")]),a._v(" VM Clean up")]),a._v(" "),s("h3",{attrs:{id:"some-tips-for-free-up-spaces-on-linux-vm"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#some-tips-for-free-up-spaces-on-linux-vm"}},[a._v("#")]),a._v(" some tips for free up spaces on linux VM")]),a._v(" "),s("h4",{attrs:{id:"check-current-spaces-with-following-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#check-current-spaces-with-following-commands"}},[a._v("#")]),a._v(" Check Current Spaces (with following commands)")]),a._v(" "),s("h5",{attrs:{id:"df-h"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#df-h"}},[a._v("#")]),a._v(" "),s("code",[a._v("df-h")])]),a._v(" "),s("ul",[s("li",[a._v("list disk usage %")])]),a._v(" "),s("h5",{attrs:{id:"sudo-du-h-max-depth-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sudo-du-h-max-depth-1"}},[a._v("#")]),a._v(" "),s("code",[a._v("sudo du -h --max-depth=1")])]),a._v(" "),s("ul",[s("li",[a._v("check disk usage inside folder")])]),a._v(" "),s("h4",{attrs:{id:"free-up-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#free-up-commands"}},[a._v("#")]),a._v(" Free Up Commands")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("Jornal files")]),a._v(" "),s("ul",[s("li",[a._v("system logs, can goes up to 4G")])])])]),a._v(" "),s("h5",{attrs:{id:"journalctl-disk-usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#journalctl-disk-usage"}},[a._v("#")]),a._v(" "),s("code",[a._v("journalctl --disk-usage")])]),a._v(" "),s("ul",[s("li",[a._v("check current journal file sizes")])]),a._v(" "),s("h5",{attrs:{id:"journalctl-vacuum-size-300m"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#journalctl-vacuum-size-300m"}},[a._v("#")]),a._v(" "),s("code",[a._v("journalctl --vacuum-size=300M")])]),a._v(" "),s("ul",[s("li",[a._v("only keep 300M, remove others")])]),a._v(" "),s("h5",{attrs:{id:"journalctl-vacuum-time-7d"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#journalctl-vacuum-time-7d"}},[a._v("#")]),a._v(" "),s("code",[a._v("journalctl --vacuum-time=7d")])]),a._v(" "),s("ul",[s("li",[s("p",[a._v("only keep 7 days journal files")])]),a._v(" "),s("li",[s("p",[s("code",[a._v("Snap Packages")])])])]),a._v(" "),s("h5",{attrs:{id:"snap-list-all"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#snap-list-all"}},[a._v("#")]),a._v(" "),s("code",[a._v("snap list --all")])]),a._v(" "),s("ul",[s("li",[a._v("show all snap packages")])]),a._v(" "),s("h5",{attrs:{id:"lang-en-us-utf-8-snap-list-all-awk-disabled-print-1-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lang-en-us-utf-8-snap-list-all-awk-disabled-print-1-3"}},[a._v("#")]),a._v(" "),s("code",[a._v("LANG=en_US.UTF-8 snap list --all | awk '/disabled/{print $1, $3}")])]),a._v(" "),s("ul",[s("li",[a._v("list all disabled packages")])]),a._v(" "),s("h5",{attrs:{id:"snap-remove-google-cloud-sdk-revision-264"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#snap-remove-google-cloud-sdk-revision-264"}},[a._v("#")]),a._v(" "),s("code",[a._v("snap remove google-cloud-sdk --revision=264")])]),a._v(" "),s("ul",[s("li",[a._v("remove deprecated google-cloud-sdk-packages")])]),a._v(" "),s("h5",{attrs:{id:"lang-c-snap-list-all-while-read-snapname-ver-rev-trk-pub-notes-do-if-notes-disabled-then-sudo-snap-remove-snapname-revision-rev-fi-done"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lang-c-snap-list-all-while-read-snapname-ver-rev-trk-pub-notes-do-if-notes-disabled-then-sudo-snap-remove-snapname-revision-rev-fi-done"}},[a._v("#")]),a._v(" "),s("code",[a._v('LANG=C snap list --all | while read snapname ver rev trk pub notes; do if [[ $notes = *disabled* ]]; then sudo snap remove "$snapname" --revision="$rev"; fi; done')])]),a._v(" "),s("ul",[s("li",[s("p",[a._v("remove all "),s("em",[a._v("disabled")]),a._v(" snap packages.")])]),a._v(" "),s("li",[s("p",[s("code",[a._v("Linux cleanup")])])])]),a._v(" "),s("h5",{attrs:{id:"sudo-apt-get-autoremove"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sudo-apt-get-autoremove"}},[a._v("#")]),a._v(" "),s("code",[a._v("sudo apt-get autoremove")])]),a._v(" "),s("h5",{attrs:{id:"sudo-apt-get-autoclean"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sudo-apt-get-autoclean"}},[a._v("#")]),a._v(" "),s("code",[a._v("sudo apt-get autoclean")])]),a._v(" "),s("h4",{attrs:{id:"enlarge-disk-spaces"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enlarge-disk-spaces"}},[a._v("#")]),a._v(" Enlarge Disk Spaces")]),a._v(" "),s("ul",[s("li",[a._v("can be done "),s("em",[a._v("without")]),a._v(" VM restart/shutdown")])]),a._v(" "),s("h5",{attrs:{id:"df-h-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#df-h-2"}},[a._v("#")]),a._v(" "),s("code",[a._v("df -h")])]),a._v(" "),s("ul",[s("li",[a._v("check current disk space")])]),a._v(" "),s("h5",{attrs:{id:"lsblk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lsblk"}},[a._v("#")]),a._v(" "),s("code",[a._v("lsblk")])]),a._v(" "),s("ul",[s("li",[a._v("check disk info")])]),a._v(" "),s("h5",{attrs:{id:"sudo-growpart-dev-sda-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sudo-growpart-dev-sda-1"}},[a._v("#")]),a._v(" "),s("code",[a._v("sudo growpart /dev/sda 1")])]),a._v(" "),s("ul",[s("li",[a._v("use growpart command")])]),a._v(" "),s("h5",{attrs:{id:"sudo-resize2fs-dev-sda1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sudo-resize2fs-dev-sda1"}},[a._v("#")]),a._v(" "),s("code",[a._v("sudo resize2fs /dev/sda1")])]),a._v(" "),s("ul",[s("li",[a._v("use resize2fs command")])]),a._v(" "),s("h5",{attrs:{id:"df-h-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#df-h-3"}},[a._v("#")]),a._v(" "),s("code",[a._v("df -h")])]),a._v(" "),s("ul",[s("li",[a._v("use command to check disk space. should be changed now.")])])])}),[],!1,null,null,null);e.default=r.exports}}]);