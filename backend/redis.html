<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åœ¨ PHP ä½¿ç”¨ Redis | MouWorks</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.jpg">
    <link rel="manifest" href="/photo.jpg">
    <link rel="apple-touch-icon" href="/photo.jpg">
    <meta name="description" content="MouWorks">
    
    <link rel="preload" href="/assets/css/0.styles.6fc1f265.css" as="style"><link rel="preload" href="/assets/js/app.003ab7b3.js" as="script"><link rel="preload" href="/assets/js/2.5eea6481.js" as="script"><link rel="preload" href="/assets/js/15.7ca586a1.js" as="script"><link rel="prefetch" href="/assets/js/10.a13aad9b.js"><link rel="prefetch" href="/assets/js/11.07550a76.js"><link rel="prefetch" href="/assets/js/12.b25f4810.js"><link rel="prefetch" href="/assets/js/13.ef16c28e.js"><link rel="prefetch" href="/assets/js/14.f5deceb4.js"><link rel="prefetch" href="/assets/js/16.bd19501e.js"><link rel="prefetch" href="/assets/js/17.c6f6ac82.js"><link rel="prefetch" href="/assets/js/18.1e369907.js"><link rel="prefetch" href="/assets/js/19.e542c007.js"><link rel="prefetch" href="/assets/js/20.4128fea2.js"><link rel="prefetch" href="/assets/js/21.a2232d64.js"><link rel="prefetch" href="/assets/js/22.cdbd80ba.js"><link rel="prefetch" href="/assets/js/23.f548d6bd.js"><link rel="prefetch" href="/assets/js/24.08ab35e1.js"><link rel="prefetch" href="/assets/js/25.6b4f35df.js"><link rel="prefetch" href="/assets/js/26.bbc5b567.js"><link rel="prefetch" href="/assets/js/27.080e0441.js"><link rel="prefetch" href="/assets/js/28.6be6dc79.js"><link rel="prefetch" href="/assets/js/29.732dbe44.js"><link rel="prefetch" href="/assets/js/3.f50b1834.js"><link rel="prefetch" href="/assets/js/30.c8ca452a.js"><link rel="prefetch" href="/assets/js/31.7a800657.js"><link rel="prefetch" href="/assets/js/32.f6101006.js"><link rel="prefetch" href="/assets/js/33.51379b52.js"><link rel="prefetch" href="/assets/js/34.be8cbe1c.js"><link rel="prefetch" href="/assets/js/35.e91ca2d5.js"><link rel="prefetch" href="/assets/js/36.f41490ba.js"><link rel="prefetch" href="/assets/js/37.fd50d225.js"><link rel="prefetch" href="/assets/js/38.468d3cf5.js"><link rel="prefetch" href="/assets/js/39.6b3e612d.js"><link rel="prefetch" href="/assets/js/4.16fd69e2.js"><link rel="prefetch" href="/assets/js/40.89398c04.js"><link rel="prefetch" href="/assets/js/41.b22b6027.js"><link rel="prefetch" href="/assets/js/42.f9319b7c.js"><link rel="prefetch" href="/assets/js/43.73f7e006.js"><link rel="prefetch" href="/assets/js/44.33ec938a.js"><link rel="prefetch" href="/assets/js/45.2dccaece.js"><link rel="prefetch" href="/assets/js/46.8486c7d3.js"><link rel="prefetch" href="/assets/js/47.41d6b861.js"><link rel="prefetch" href="/assets/js/48.e9a41433.js"><link rel="prefetch" href="/assets/js/49.c2c38277.js"><link rel="prefetch" href="/assets/js/5.955f4afe.js"><link rel="prefetch" href="/assets/js/50.6157c2a4.js"><link rel="prefetch" href="/assets/js/51.0206cfc9.js"><link rel="prefetch" href="/assets/js/52.d942ca42.js"><link rel="prefetch" href="/assets/js/53.06565fb0.js"><link rel="prefetch" href="/assets/js/54.8deb3ae9.js"><link rel="prefetch" href="/assets/js/55.22ab3306.js"><link rel="prefetch" href="/assets/js/56.7868c4cc.js"><link rel="prefetch" href="/assets/js/57.9236a6fe.js"><link rel="prefetch" href="/assets/js/58.b9ffb87a.js"><link rel="prefetch" href="/assets/js/59.ba9eceaf.js"><link rel="prefetch" href="/assets/js/6.ea327f9f.js"><link rel="prefetch" href="/assets/js/60.d2e68c4f.js"><link rel="prefetch" href="/assets/js/61.5f36eeba.js"><link rel="prefetch" href="/assets/js/62.f789bf46.js"><link rel="prefetch" href="/assets/js/63.ba749c72.js"><link rel="prefetch" href="/assets/js/64.f949c719.js"><link rel="prefetch" href="/assets/js/65.1c3d15f6.js"><link rel="prefetch" href="/assets/js/66.8cbe0415.js"><link rel="prefetch" href="/assets/js/7.6b5df25c.js"><link rel="prefetch" href="/assets/js/8.3b5fb665.js"><link rel="prefetch" href="/assets/js/9.ee421a21.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6fc1f265.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">MouWorks</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DevOps" class="dropdown-title"><span class="title">DevOps</span> <span class="arrow down"></span></button> <button type="button" aria-label="DevOps" class="mobile-dropdown-title"><span class="title">DevOps</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/gcloud_container.html" class="nav-link">
  Gcloud in docker
</a></li><li class="dropdown-item"><!----> <a href="/devops/local_gitlab_runner.html" class="nav-link">
  Local gitlab Runner
</a></li><li class="dropdown-item"><!----> <a href="/devops/vm_cleanup.html" class="nav-link">
  VM Disk cleanup
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s_es_upgrade_note.html" class="nav-link">
  K8s ES Upgrade note
</a></li><li class="dropdown-item"><!----> <a href="/devops/dockerize.html" class="nav-link">
  DockerizeApplication
</a></li><li class="dropdown-item"><!----> <a href="/devops/graceful_shutdown.html" class="nav-link">
  Graceful shutdown
</a></li><li class="dropdown-item"><!----> <a href="/devops/linux.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/circleci.html" class="nav-link">
  CircleCI
</a></li><li class="dropdown-item"><!----> <a href="/devops/ansible.html" class="nav-link">
  Ansible
</a></li><li class="dropdown-item"><!----> <a href="/devops/deployer.html" class="nav-link">
  Deployer
</a></li><li class="dropdown-item"><!----> <a href="/devops/gke_cloud_onboard.html" class="nav-link">
  GKE Cloud onboard
</a></li><li class="dropdown-item"><!----> <a href="/devops/dcard_backend_scale.html" class="nav-link">
  Dcard Backend Scaling
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s.html" class="nav-link">
  k8s
</a></li><li class="dropdown-item"><!----> <a href="/devops/eks.html" class="nav-link">
  AWS EKS
</a></li><li class="dropdown-item"><!----> <a href="/devops/blackfire.html" class="nav-link">
  Blackfireæ•ˆèƒ½ç›£æ§
</a></li><li class="dropdown-item"><!----> <a href="/devops/aws_cdk.html" class="nav-link">
  AWS CDK
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s_note.html" class="nav-link">
  k8s Note
</a></li><li class="dropdown-item"><!----> <a href="/devops/pms.html" class="nav-link">
  prometheus
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s_course.html" class="nav-link">
  k8s Course
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/ecmaScript.html" class="nav-link">
  ECMAScript
</a></li><li class="dropdown-item"><!----> <a href="/backend/nestjs.html" class="nav-link">
  NestJS
</a></li><li class="dropdown-item"><!----> <a href="/backend/DB_backup.html" class="nav-link">
  DBå‚™ä»½
</a></li><li class="dropdown-item"><!----> <a href="/backend/redis.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/backend/cassandra.html" class="nav-link">
  Cassandra
</a></li><li class="dropdown-item"><!----> <a href="/backend/socket.html" class="nav-link">
  Socket
</a></li><li class="dropdown-item"><!----> <a href="/backend/queue.html" class="nav-link">
  Queue
</a></li><li class="dropdown-item"><!----> <a href="/backend/upgrade_to_seven.html" class="nav-link">
  Php5å‡7
</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejs.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/backend/redisVsMc.html" class="nav-link">
  Redis Vs Memcached
</a></li><li class="dropdown-item"><!----> <a href="/backend/js_pattern.html" class="nav-link">
  JS è¨­è¨ˆæ¨¡å¼
</a></li><li class="dropdown-item"><!----> <a href="/backend/sql.html" class="nav-link">
  SQLç·´ç¿’
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DB" class="dropdown-title"><span class="title">DB</span> <span class="arrow down"></span></button> <button type="button" aria-label="DB" class="mobile-dropdown-title"><span class="title">DB</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/protip/pg_cluster.html" class="nav-link">
  PG-cluster
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Protip" class="dropdown-title"><span class="title">Protip</span> <span class="arrow down"></span></button> <button type="button" aria-label="Protip" class="mobile-dropdown-title"><span class="title">Protip</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/protip/alias.html" class="nav-link">
  Alias
</a></li><li class="dropdown-item"><!----> <a href="/protip/makefile.html" class="nav-link">
  Makefile
</a></li><li class="dropdown-item"><!----> <a href="/protip/ssh_key.html" class="nav-link">
  SSH-Key
</a></li><li class="dropdown-item"><!----> <a href="/protip/setupscript.html" class="nav-link">
  SetupScript
</a></li><li class="dropdown-item"><!----> <a href="/protip/slowlog.html" class="nav-link">
  SlowLog
</a></li><li class="dropdown-item"><!----> <a href="/protip/logrotate.html" class="nav-link">
  logrotate
</a></li><li class="dropdown-item"><!----> <a href="/protip/php-fpm.html" class="nav-link">
  php-fpm
</a></li><li class="dropdown-item"><!----> <a href="/protip/ssh.html" class="nav-link">
  SSH &amp; SCP
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resume" class="dropdown-title"><span class="title">Resume</span> <span class="arrow down"></span></button> <button type="button" aria-label="Resume" class="mobile-dropdown-title"><span class="title">Resume</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resume/resume_2023.html" class="nav-link">
  Resume
</a></li><li class="dropdown-item"><!----> <a href="/resume/resume_chinese.html" class="nav-link">
  ä¸­æ–‡å±¥æ­·
</a></li><li class="dropdown-item"><!----> <a href="/resume/resume.html" class="nav-link">
  _
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Study" class="dropdown-title"><span class="title">Study</span> <span class="arrow down"></span></button> <button type="button" aria-label="Study" class="mobile-dropdown-title"><span class="title">Study</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/data_structure.html" class="nav-link">
  è³‡æ–™çµæ§‹
</a></li><li class="dropdown-item"><!----> <a href="/study/algo.html" class="nav-link">
  æ¼”ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/study/design_pattern.html" class="nav-link">
  è¨­è¨ˆæ¨¡å¼
</a></li><li class="dropdown-item"><!----> <a href="/study/leetcodeAlgos.html" class="nav-link">
  LeetCodeAlgos
</a></li><li class="dropdown-item"><!----> <a href="/study/dailyInterviewPro.html" class="nav-link">
  DailyInterviewPro
</a></li><li class="dropdown-item"><!----> <a href="/study/jsdc_2017.html" class="nav-link">
  JSDC 2017 Note
</a></li><li class="dropdown-item"><!----> <a href="/devops/deployment_questions.html" class="nav-link">
  DeploymentQuestions
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="LeetCode" class="dropdown-title"><span class="title">LeetCode</span> <span class="arrow down"></span></button> <button type="button" aria-label="LeetCode" class="mobile-dropdown-title"><span class="title">LeetCode</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/leetCode/TwoSum_001.html" class="nav-link">
  001 | Easy | Two Sum
</a></li><li class="dropdown-item"><!----> <a href="/leetCode/RemoveElement_027.html" class="nav-link">
  027 | Easy | Remove Element
</a></li><li class="dropdown-item"><!----> <a href="/leetCode/BinarySearch_704.html" class="nav-link">
  704 | Easy | Binary Search
</a></li><li class="dropdown-item"><!----> <a href="/leetCode/SortedArraySquare_977.html" class="nav-link">
  977 | Easy | SortedArraySquare
</a></li><li class="dropdown-item"><!----> <a href="/leetCode/MinimumSizeSubArraySum_209.html" class="nav-link">
  209 | Easy | Minimum Size SubArray Sum
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Projects" class="dropdown-title"><span class="title">Projects</span> <span class="arrow down"></span></button> <button type="button" aria-label="Projects" class="mobile-dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/projects/jobHunter.html" class="nav-link">
  jobHunter
</a></li><li class="dropdown-item"><!----> <a href="/projects/m1ga.html" class="nav-link">
  M1GA
</a></li><li class="dropdown-item"><!----> <a href="/projects/weddinghelper.html" class="nav-link">
  WeddingHelper
</a></li></ul></div></div> <a href="https://github.com/mouworks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DevOps" class="dropdown-title"><span class="title">DevOps</span> <span class="arrow down"></span></button> <button type="button" aria-label="DevOps" class="mobile-dropdown-title"><span class="title">DevOps</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/gcloud_container.html" class="nav-link">
  Gcloud in docker
</a></li><li class="dropdown-item"><!----> <a href="/devops/local_gitlab_runner.html" class="nav-link">
  Local gitlab Runner
</a></li><li class="dropdown-item"><!----> <a href="/devops/vm_cleanup.html" class="nav-link">
  VM Disk cleanup
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s_es_upgrade_note.html" class="nav-link">
  K8s ES Upgrade note
</a></li><li class="dropdown-item"><!----> <a href="/devops/dockerize.html" class="nav-link">
  DockerizeApplication
</a></li><li class="dropdown-item"><!----> <a href="/devops/graceful_shutdown.html" class="nav-link">
  Graceful shutdown
</a></li><li class="dropdown-item"><!----> <a href="/devops/linux.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/circleci.html" class="nav-link">
  CircleCI
</a></li><li class="dropdown-item"><!----> <a href="/devops/ansible.html" class="nav-link">
  Ansible
</a></li><li class="dropdown-item"><!----> <a href="/devops/deployer.html" class="nav-link">
  Deployer
</a></li><li class="dropdown-item"><!----> <a href="/devops/gke_cloud_onboard.html" class="nav-link">
  GKE Cloud onboard
</a></li><li class="dropdown-item"><!----> <a href="/devops/dcard_backend_scale.html" class="nav-link">
  Dcard Backend Scaling
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s.html" class="nav-link">
  k8s
</a></li><li class="dropdown-item"><!----> <a href="/devops/eks.html" class="nav-link">
  AWS EKS
</a></li><li class="dropdown-item"><!----> <a href="/devops/blackfire.html" class="nav-link">
  Blackfireæ•ˆèƒ½ç›£æ§
</a></li><li class="dropdown-item"><!----> <a href="/devops/aws_cdk.html" class="nav-link">
  AWS CDK
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s_note.html" class="nav-link">
  k8s Note
</a></li><li class="dropdown-item"><!----> <a href="/devops/pms.html" class="nav-link">
  prometheus
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s_course.html" class="nav-link">
  k8s Course
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend" class="dropdown-title"><span class="title">Backend</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend" class="mobile-dropdown-title"><span class="title">Backend</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/ecmaScript.html" class="nav-link">
  ECMAScript
</a></li><li class="dropdown-item"><!----> <a href="/backend/nestjs.html" class="nav-link">
  NestJS
</a></li><li class="dropdown-item"><!----> <a href="/backend/DB_backup.html" class="nav-link">
  DBå‚™ä»½
</a></li><li class="dropdown-item"><!----> <a href="/backend/redis.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/backend/cassandra.html" class="nav-link">
  Cassandra
</a></li><li class="dropdown-item"><!----> <a href="/backend/socket.html" class="nav-link">
  Socket
</a></li><li class="dropdown-item"><!----> <a href="/backend/queue.html" class="nav-link">
  Queue
</a></li><li class="dropdown-item"><!----> <a href="/backend/upgrade_to_seven.html" class="nav-link">
  Php5å‡7
</a></li><li class="dropdown-item"><!----> <a href="/backend/nodejs.html" class="nav-link">
  Nodejs
</a></li><li class="dropdown-item"><!----> <a href="/backend/redisVsMc.html" class="nav-link">
  Redis Vs Memcached
</a></li><li class="dropdown-item"><!----> <a href="/backend/js_pattern.html" class="nav-link">
  JS è¨­è¨ˆæ¨¡å¼
</a></li><li class="dropdown-item"><!----> <a href="/backend/sql.html" class="nav-link">
  SQLç·´ç¿’
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="DB" class="dropdown-title"><span class="title">DB</span> <span class="arrow down"></span></button> <button type="button" aria-label="DB" class="mobile-dropdown-title"><span class="title">DB</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/protip/pg_cluster.html" class="nav-link">
  PG-cluster
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Protip" class="dropdown-title"><span class="title">Protip</span> <span class="arrow down"></span></button> <button type="button" aria-label="Protip" class="mobile-dropdown-title"><span class="title">Protip</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/protip/alias.html" class="nav-link">
  Alias
</a></li><li class="dropdown-item"><!----> <a href="/protip/makefile.html" class="nav-link">
  Makefile
</a></li><li class="dropdown-item"><!----> <a href="/protip/ssh_key.html" class="nav-link">
  SSH-Key
</a></li><li class="dropdown-item"><!----> <a href="/protip/setupscript.html" class="nav-link">
  SetupScript
</a></li><li class="dropdown-item"><!----> <a href="/protip/slowlog.html" class="nav-link">
  SlowLog
</a></li><li class="dropdown-item"><!----> <a href="/protip/logrotate.html" class="nav-link">
  logrotate
</a></li><li class="dropdown-item"><!----> <a href="/protip/php-fpm.html" class="nav-link">
  php-fpm
</a></li><li class="dropdown-item"><!----> <a href="/protip/ssh.html" class="nav-link">
  SSH &amp; SCP
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resume" class="dropdown-title"><span class="title">Resume</span> <span class="arrow down"></span></button> <button type="button" aria-label="Resume" class="mobile-dropdown-title"><span class="title">Resume</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resume/resume_2023.html" class="nav-link">
  Resume
</a></li><li class="dropdown-item"><!----> <a href="/resume/resume_chinese.html" class="nav-link">
  ä¸­æ–‡å±¥æ­·
</a></li><li class="dropdown-item"><!----> <a href="/resume/resume.html" class="nav-link">
  _
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Study" class="dropdown-title"><span class="title">Study</span> <span class="arrow down"></span></button> <button type="button" aria-label="Study" class="mobile-dropdown-title"><span class="title">Study</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/study/data_structure.html" class="nav-link">
  è³‡æ–™çµæ§‹
</a></li><li class="dropdown-item"><!----> <a href="/study/algo.html" class="nav-link">
  æ¼”ç®—æ³•
</a></li><li class="dropdown-item"><!----> <a href="/study/design_pattern.html" class="nav-link">
  è¨­è¨ˆæ¨¡å¼
</a></li><li class="dropdown-item"><!----> <a href="/study/leetcodeAlgos.html" class="nav-link">
  LeetCodeAlgos
</a></li><li class="dropdown-item"><!----> <a href="/study/dailyInterviewPro.html" class="nav-link">
  DailyInterviewPro
</a></li><li class="dropdown-item"><!----> <a href="/study/jsdc_2017.html" class="nav-link">
  JSDC 2017 Note
</a></li><li class="dropdown-item"><!----> <a href="/devops/deployment_questions.html" class="nav-link">
  DeploymentQuestions
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="LeetCode" class="dropdown-title"><span class="title">LeetCode</span> <span class="arrow down"></span></button> <button type="button" aria-label="LeetCode" class="mobile-dropdown-title"><span class="title">LeetCode</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/leetCode/TwoSum_001.html" class="nav-link">
  001 | Easy | Two Sum
</a></li><li class="dropdown-item"><!----> <a href="/leetCode/RemoveElement_027.html" class="nav-link">
  027 | Easy | Remove Element
</a></li><li class="dropdown-item"><!----> <a href="/leetCode/BinarySearch_704.html" class="nav-link">
  704 | Easy | Binary Search
</a></li><li class="dropdown-item"><!----> <a href="/leetCode/SortedArraySquare_977.html" class="nav-link">
  977 | Easy | SortedArraySquare
</a></li><li class="dropdown-item"><!----> <a href="/leetCode/MinimumSizeSubArraySum_209.html" class="nav-link">
  209 | Easy | Minimum Size SubArray Sum
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Projects" class="dropdown-title"><span class="title">Projects</span> <span class="arrow down"></span></button> <button type="button" aria-label="Projects" class="mobile-dropdown-title"><span class="title">Projects</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/projects/jobHunter.html" class="nav-link">
  jobHunter
</a></li><li class="dropdown-item"><!----> <a href="/projects/m1ga.html" class="nav-link">
  M1GA
</a></li><li class="dropdown-item"><!----> <a href="/projects/weddinghelper.html" class="nav-link">
  WeddingHelper
</a></li></ul></div></div> <a href="https://github.com/mouworks" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>åœ¨ PHP ä½¿ç”¨ Redis</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/backend/redis.html#å‘½åè¦å‰‡" class="sidebar-link">å‘½åè¦å‰‡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/backend/redis.html#key-åç¨±ä¸å¯éé•·" class="sidebar-link">key åç¨±ä¸å¯éé•·</a></li><li class="sidebar-sub-header"><a href="/backend/redis.html#key-åç¨±ä¸è¦å¤ªçŸ­-ä¿æŒå¯è®€æ€§" class="sidebar-link">key åç¨±ä¸è¦å¤ªçŸ­ï¼Œä¿æŒå¯è®€æ€§</a></li><li class="sidebar-sub-header"><a href="/backend/redis.html#ç›¡é‡ä¿æŒä¸€è‡´çš„å‘½åé¢¨æ ¼" class="sidebar-link">ç›¡é‡ä¿æŒä¸€è‡´çš„å‘½åé¢¨æ ¼</a></li></ul></li><li><a href="/backend/redis.html#åƒè€ƒé€£çµ" class="sidebar-link">åƒè€ƒé€£çµ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/backend/redis.html#é–‹ç™¼è¦ç¯„" class="sidebar-link">é–‹ç™¼è¦ç¯„</a></li><li class="sidebar-sub-header"><a href="/backend/redis.html#php-redis" class="sidebar-link">PHP Redis</a></li><li class="sidebar-sub-header"><a href="/backend/redis.html#php-redis-extension-å®‰è£" class="sidebar-link">PHP redis extension å®‰è£</a></li></ul></li><li><a href="/backend/redis.html#å…¶ä»–-redis-äº‹é …" class="sidebar-link">å…¶ä»– Redis äº‹é …</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/backend/redis.html#config" class="sidebar-link">config</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="åœ¨-php-ä½¿ç”¨-redis"><a href="#åœ¨-php-ä½¿ç”¨-redis" class="header-anchor">#</a> åœ¨ PHP ä½¿ç”¨ Redis</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><strong>ç‰¹åˆ¥æ„Ÿè¬</strong>  æ­¤ç‚º <code>rainlay</code> å¤§åˆ†äº«æŠ€è¡“ç­†è¨˜, åœ¨æ­¤æ„Ÿè¬! @https://github.com/rainlay</p></div> <h3 id="èªæ³•"><a href="#èªæ³•" class="header-anchor">#</a> èªæ³•</h3> <div class="language-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$redis</span> <span class="token operator">=</span> <span class="token class-name static-context">Z_redis</span><span class="token operator">::</span><span class="token function">getClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å…¬å¸ä½¿ç”¨ <a href="https://github.com/phpredis/phpredis" target="_blank" rel="noopener noreferrer">phpredis extension<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç‚º redis Clientï¼Œ
å¤–éƒ¨åŒ…äº†ä¸€å±¤ Z_redis Library æ–¹ä¾¿é€£æ¥ redisï¼Œå·²ç¶“è¨­å®šåœ¨ ci è£¡é¢ autoload</p> <p>å¦‚æœ¬æ©Ÿé–‹ç™¼ä½¿ç”¨å‰éœ€å…ˆå®‰è£ php redis extensionï¼Œå®‰è£æ–¹å¼è«‹åƒè€ƒ<a href="https://github.com/phpredis/phpredis/blob/develop/INSTALL.markdown" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡ä»¶<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>è¨»:é€™è£¡å…¶å¯¦ä¹Ÿå¯ä»¥ç”¨ä¸€èˆ¬çš„ composer å¥—ä»¶ä¾†é€£ redis, ä½†é¸æ“‡ extension çš„åŸå› æ˜¯ç‚º php extension éƒ½æ˜¯ç”¨ C ä¾†å¯«çš„ï¼Œæ•ˆèƒ½æœ€å¥½ã€‚</code></p> <h2 id="å‘½åè¦å‰‡"><a href="#å‘½åè¦å‰‡" class="header-anchor">#</a> å‘½åè¦å‰‡</h2> <p>å»ºè­°ä»¥ : è™Ÿåšç‚ºé€£æ¥åå­—ç¬¦è™Ÿï¼Œå¤§æ–¹å‘çš„å‘½åæ–¹å¼å¯ä»¥ä½¿ç”¨ é¡å‹ + ID ä¾†åšå‘½åã€‚å¦‚:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>user<span class="token operator">:</span><span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¯è§£è®€ Key user:1 ç‚º user id = 1 çš„ä½¿ç”¨è€…è³‡æ–™ã€‚</p> <h3 id="key-åç¨±ä¸å¯éé•·"><a href="#key-åç¨±ä¸å¯éé•·" class="header-anchor">#</a> key åç¨±ä¸å¯éé•·</h3> <blockquote><p>Very long keys are not a good idea. For instance a key of 1024 bytes is a bad idea not only memory-wise, but also because the lookup of the key in the dataset may require several costly key-comparisons. Even when the task at hand is to match the existence of a large value,hashing it (for example with SHA1) is a better idea, especially from the perspective of memory and bandwidth.</p></blockquote> <h3 id="key-åç¨±ä¸è¦å¤ªçŸ­-ä¿æŒå¯è®€æ€§"><a href="#key-åç¨±ä¸è¦å¤ªçŸ­-ä¿æŒå¯è®€æ€§" class="header-anchor">#</a> key åç¨±ä¸è¦å¤ªçŸ­ï¼Œä¿æŒå¯è®€æ€§</h3> <blockquote><p>Very short keys are often not a good idea. There is little point in writing &quot;u1000flw&quot; as a key if you can instead write &quot;user:1000:followers&quot;. The latter is more readable and the added space is minor compared to the space used by the key object itself and the value object. While short keys will obviously consume a bit less memory, your job is to find the right balance.</p></blockquote> <h3 id="ç›¡é‡ä¿æŒä¸€è‡´çš„å‘½åé¢¨æ ¼"><a href="#ç›¡é‡ä¿æŒä¸€è‡´çš„å‘½åé¢¨æ ¼" class="header-anchor">#</a> ç›¡é‡ä¿æŒä¸€è‡´çš„å‘½åé¢¨æ ¼</h3> <blockquote><p>Try to stick with a schema. For instance &quot;object-type:id&quot; is a good idea, as in &quot;user:1000&quot;. Dots or dashes are often used for multi-word fields, as in &quot;commentğŸ”¢reply.to&quot; or &quot;commentğŸ”¢reply-to&quot;.</p></blockquote> <h2 id="åƒè€ƒé€£çµ"><a href="#åƒè€ƒé€£çµ" class="header-anchor">#</a> åƒè€ƒé€£çµ</h2> <h3 id="é–‹ç™¼è¦ç¯„"><a href="#é–‹ç™¼è¦ç¯„" class="header-anchor">#</a> é–‹ç™¼è¦ç¯„</h3> <p><a href="https://redis.io/topics/data-types-intro" target="_blank" rel="noopener noreferrer">An introduction to Redis data types and abstractions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="http://ju.outofmemory.cn/entry/218983" target="_blank" rel="noopener noreferrer">Rediså¼€å‘è§„èŒƒä¸€äºŒä¸‰<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="php-redis"><a href="#php-redis" class="header-anchor">#</a> PHP Redis</h3> <p><a href="https://github.com/phpredis/phpredis" target="_blank" rel="noopener noreferrer">https://github.com/phpredis/phpredis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="php-redis-extension-å®‰è£"><a href="#php-redis-extension-å®‰è£" class="header-anchor">#</a> PHP redis extension å®‰è£</h3> <p>å¦‚æœä½ çš„ vagrant/server é‚„æ²’æœ‰è£ php redis extension ï¼Œè«‹åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œé€™è£¡è«‹æ³¨æ„ä½ çš„ php ç‰ˆæœ¬ã€‚</p> <ul><li>SSH é€²å…¥ Vagrant VM</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pecl <span class="token function">install</span> redis
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;; Redis PHP Driver<span class="token entity" title="\n">\n</span>extension=redis.so&quot;</span> <span class="token operator">&gt;&gt;</span> <span class="token variable"><span class="token variable">`</span>php <span class="token parameter variable">--ini</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;Loaded Configuration&quot;</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;s|.*:\s*||&quot;</span><span class="token variable">`</span></span>      
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;; Redis PHP Driver<span class="token entity" title="\n">\n</span>extension=redis.so&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/php/7.1/fpm/php.ini
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>åˆ¥å¿˜äº†é‡é–‹ php-fpm</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">service</span> php7.1-fpm restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="å…¶ä»–-redis-äº‹é …"><a href="#å…¶ä»–-redis-äº‹é …" class="header-anchor">#</a> å…¶ä»– Redis äº‹é …</h2> <h3 id="config"><a href="#config" class="header-anchor">#</a> config</h3> <p>è·¯å¾‘</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>/etc/redis/config
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Port è¨­å®š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>log ä½ç½®/æª”å</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>logfile <span class="token string">&quot;/var/lib/redis/redis.log&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>db å‚™ä»½</p> <p>è·¯å¾‘</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">dir</span> /var/lib/redis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æª”å</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>dbfilename dump.rdb
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¯†ç¢¼è¨­å®š</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>requirepass <span class="token punctuation">{</span>your_password<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.003ab7b3.js" defer></script><script src="/assets/js/2.5eea6481.js" defer></script><script src="/assets/js/15.7ca586a1.js" defer></script>
  </body>
</html>
